<div ng-controller="consultProcessCtrl">
	<div class="row" >
	    <div class="col-md-12">
	      <div ba-panel ba-panel-title="" ba-panel-class="with-scroll">
        <form class="form-horizontal" name="modifyForm" novalidate>
            <div class="row">
                <div class="col-md-2">
                    <label class="grid-title">咨询处理列表</label>
                </div>
                <div class="add-row-editable-table z_cusmnt" style="float: right">
                    <button class="btn btn-primary btn-with-icon" ng-click="searchConsult()"><i class="ion-search"></i>查询</button>
                    <button class="btn btn-primary btn-with-icon" ng-click="resetConsult()"><i class="ion-refresh"></i>重置</button>
					<button class="btn btn-primary btn-with-icon" ng-click="deliverConsult()"><i class="ion-arrow-swap"></i>转交</button>
                </div>

				<div class="col-sm-3 z_custmnt_padding" style="float: right;">
					<input type="text" class="form-control" ng-model="searchObj.custName" placeholder="客户名称/客户编号">
				</div>
				<div class="col-sm-3 z_custmnt_padding" style="float: right;">
					<input type="text" class="form-control" ng-model="searchObj.consultNo" placeholder="咨询编号">
				</div>
            </div>
        </form>
			  <table class="table table-bordered table-hover table-condensed" st-table="Consult" st-safe-src="ConsultData">
			    <thead>
				    <tr class="sortable">
						<th><label for="flag" style="float: left;"><input id="checked" type="checkbox" ng-model="select_all" ng-change="selectAll()"></label></th>
						<th st-sort="consultNo">咨询编号</th>
						<th st-sort="consultDate">咨询日期</th>
						<!-- <th st-sort="custNo">客户号</th> -->
						<th st-sort="custNam">客户姓名</th>
						<th st-sort="consultTyp">咨询类型</th>
						<th st-sort="consultSts">咨询状态</th>
<!-- 						<th st-sort="consultDets">投诉内容</th>
 -->						<th st-sort="agentNo">坐席编号</th>
						<th st-sort="agentNam">坐席编号</th>
<!-- 						<th st-sort="caseRegiDate">立案日期</th>
						<th st-sort="caseNo">案件编号</th>
						<th st-sort="transfOrderNo">转办单号码</th>
						<th st-sort="caseTyp">案件类型</th>
						<th st-sort="caseSts">案件状态</th> -->
						<th st-sort="principal">跟进人编号</th>
						<th st-sort="principalNam">跟进人姓名</th>
						<th>操作</th>
				    </tr>
			    </thead>
			    <tbody>
			    <tr ng-repeat="item in Consult">
					<td>
						<span>
							<input type="checkbox" ng-model="item.checked" ng-change="selectOne()">
						</span>
					</td>
			      <td>{{item.consultNo}}</td>
			      <td>{{item.consultDate}}</td>
			      <!-- <td>{{item.custNo}}</td> -->
			      <td><a href="" ng-click="openDetail(item.custNo)">{{item.custNam}}</a></td>
			      <td>{{item.consultTypNam}}</td>
			      <td>{{item.consultStsNam}}</td>
<!--			      <td>{{item.consultDets}}</td> -->
			      <td>{{item.agentNo}}</td>
			      <td>{{item.agentNam}}</td>
<!--			      <td>{{item.caseRegiDate}}</td>
			      <td>{{item.caseNo}}</td>
			      <td>{{item.transfOrderNo}}</td> 
			      <td>{{item.caseTypNam}}</td>
			      <td>{{item.caseStsNam}}</td>-->
			      <td>{{item.principal}}</td>
			      <td>{{item.principalNam}}</td>
			      <td>
	                    <div class="buttons" ng-show="!rowform.$visible">
                           <button title="查看" class="btn btn-info btn-icon" ng-click="getConsult(item)"><i class="ion-eye"></i></button>
                           <button title="已答复" class="btn btn-success btn-icon" ng-click="yetAnswerConsult(item)"><i class="ion-checkmark"></i></button>
                           <button title="取消" class="btn btn-danger btn-icon" ng-click="cancelConsult(item)"><i class="ion-ios-undo"></i></button>
                           <button title="转交" class="btn btn-primary btn-icon" ng-click="deliverConsultOne(item)"><i class="ion-arrow-swap"></i></button>
	                    </div>
			      </td>

			    </tr>
			    </tbody>
			    <tfoot>
				<tr>
					<td colspan="17" class="text-left">
					<div class="row">
						<div class="col-md-5">
							<div>
							每页
							<label>
								<select class="form-control selectpicker show-tick" title="Rows on page" selectpicker
										ng-model="smartTablePageSize" ng-options="i for i in [5,10,15,20,25]">
								</select>
							</label>
							条&nbsp;&nbsp;&nbsp;
							共{{total}}条
						</div>
						</div>
						<div class="col-md-7">
							<div st-pagination="" st-items-by-page="10" st-displayed-pages="5"></div>
						</div>
					</div>
					</td>
				</tr>
			    </tfoot>
			  </table>
		</div>
		</div>
	</div>
</div>
